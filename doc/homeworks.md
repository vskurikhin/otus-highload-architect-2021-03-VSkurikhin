[![hits](https://hits.deltapapa.io/github/vskurikhin/otus-highload-architect-2021-03-VSkurikhin.svg)](https://hits.deltapapa.io)

# Домашние задания

## TOC

- [Домашние задания](homeworks.md)
   1. [Заготовка для социальной сети](homeworks.md#заготовка-для-социальной-сети)
   2. [Производительность индексов](homeworks.md#производительность-индексов)

### [Заготовка для социальной сети](homeworks.md#заготовка-для-социальной-сети)

Заготовка для социальной сети
Цель:
В результате выполнения ДЗ вы создадите базовый скелет социальной сети, который будет развиваться в дальнейших ДЗ. В данном задании тренируются навыки:

1. декомпозиции предметной области;
1. построения элементарной архитектуры проекта

Требуется разработать создание и просмотр анект в социальной сети.

Функциональные требования:

1. Авторизация по паролю.
1. Страница регистрации, где указывается следующая информация:
   - Имя
   - Фамилия
   - Возраст
   - Пол
   - Интересы
   - Город
1. Страницы с анкетой.
    
Нефункциональные требования:
- Любой язык программирования
- В качестве базы данных использовать MySQL
- Не использовать ORM
- Программа должна представлять из себя монолитное приложение.

Не рекомендуется использовать следующие технологии:

- Репликация
- Шардинг
- Индексы
- Кэширование

Верстка не важна. Подойдет самая примитивная.

Разместить приложение на любом хостинге. Например, heroku.

ДЗ принимается в виде исходного кода на github и демонстрации проекта на хостинге.

Критерии оценки:

[ ] Оценка происходит по принципу зачет/незачет.

Требования: Есть возможность регистрации, создавать персональные страницы, возможность подружиться, список друзей. Отсутствуют SQL-инъекции. Пароль хранится безопасно.

Рекомендуем сдать до: 20.04.2021

### [Производительность индексов](homeworks.md#производительность-индексов)

В результате выполнения ДЗ вы создадите набор тестовых данных для проведения нагрузочного тестирования, подберете наиболее подходящие индексы и проведете тесты производительности. В данном задании тренируются навыки:

- генерация тестовых данных;
- работа с индексами;
- нагрузочное тестирование;
- Сгенерировать любым способ 1,000,000 анкет. Имена и Фамилии должны быть реальными (чтобы учитывать селективность индекса)
- Реализовать функционал поиска анкет по префиксу имени и фамилии (одновременно) в вашей социальной сети (запрос в форме firstName LIKE ? and secondName LIKE ?). Сортировать вывод по id анкеты. Использовать InnoDB движок.
- С помощью wrk провести нагрузочные тесты по этой странице. Поиграть с количеством одновременных запросов. 1/10/100/1000.
- Построить графики и сохранить их в отчет
- Сделать подходящий индекс.
- Повторить пункт 3 и 4.
В качестве результата предоставить отчет в котором должны быть:
- графики latency до индекса;
- графики throughput до индекса;
- графики latency после индекса;
- графики throughput после индекса;
- запрос добавления индекса;
- explain запросов после индекса;
- объяснение почему индекс именно такой;
ДЗ принимается в виде отчета по выполненной работе.

Критерии оценки:
Оценка происходит по принципу зачет/незачет.

Требования: Правильно выбраны индексы. Нагрузочное тестирование проведено и результаты адекватны.

Рекомендуем сдать до: 13.05.2021